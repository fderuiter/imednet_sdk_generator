#
# Mednet EDC API
# 
# The Mednet EDC (Electronic Data Capture) REST API provides a single-point of access for reading data stored across iMednet data services. This specification documents all available endpoints in the latest version of the API. 
# The version of the OpenAPI document: 1.3.6
# 
# Generated by: https://openapi-generator.tech
#

import json
import tables


type VariableType* {.pure.} = enum
  TEXT
  TEXTAREA
  RADIO
  CHECKBOX
  DROPDOWN
  DATE
  NUMBER

type Variable* = object
  ## 
  studyKey*: string ## Unique study key
  variableId*: int ## Mednet variable ID
  variableType*: VariableType ## Type of the variable (field type), e.g., RADIO, TEXT, etc.
  variableName*: string ## Name of the variable (question text or label)
  sequence*: int ## Sequence of the variable on the form
  revision*: int ## Number of modifications of the variable (via form metadata revisions)
  disabled*: bool ## Whether the variable is marked as disabled (deleted)
  dateCreated*: string ## Date when this variable was created
  dateModified*: string ## Date when this variable was last modified
  formId*: int ## ID of the form that this variable belongs to
  variableOid*: string ## Client-assigned variable OID
  deleted*: bool ## Whether the variable is marked as deleted
  formKey*: string ## Form key of the form that this variable belongs to
  formName*: string ## Name of the form that this variable belongs to
  label*: string ## User-defined identifier (field name) for the variable
  blinded*: bool ## Whether the variable is flagged as blinded (hidden in certain contexts)

func `%`*(v: VariableType): JsonNode =
  let str = case v:
    of VariableType.TEXT: "TEXT"
    of VariableType.TEXTAREA: "TEXTAREA"
    of VariableType.RADIO: "RADIO"
    of VariableType.CHECKBOX: "CHECKBOX"
    of VariableType.DROPDOWN: "DROPDOWN"
    of VariableType.DATE: "DATE"
    of VariableType.NUMBER: "NUMBER"

  JsonNode(kind: JString, str: str)

func `$`*(v: VariableType): string =
  result = case v:
    of VariableType.TEXT: "TEXT"
    of VariableType.TEXTAREA: "TEXTAREA"
    of VariableType.RADIO: "RADIO"
    of VariableType.CHECKBOX: "CHECKBOX"
    of VariableType.DROPDOWN: "DROPDOWN"
    of VariableType.DATE: "DATE"
    of VariableType.NUMBER: "NUMBER"
